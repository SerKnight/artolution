/ Page Content
.container.padding-50
  / Page Heading/Breadcrumbs
  .row
    .col-lg-12
      %h1.page-header
        Contact
        %small Subheading
      %ol.breadcrumb
        %li= link_to 'Home', root_path
        %li.active Contact
  / /.row
  / Content Row
  .row
    / Map Column
    .col-md-8
      / Embedded Google Map
      %iframe{:frameborder => "0", :height => "400px", :marginheight => "0", :marginwidth => "0", :scrolling => "no", :src => "http://maps.google.com/maps?hl=en&ie=UTF8&ll=37.0625,-95.677068&spn=56.506174,79.013672&t=m&z=4&output=embed", :width => "100%"}
    / Contact Details Column
    .col-md-4
      %h3 Contact Details
      %p
        3481 Melrose Place
        %br>/
        Beverly Hills, CA 90210
        %br/
      %p
        %i.fa.fa-phone
        = succeed ":" do
          %abbr{:title => "Phone"} P
      %p
        %i.fa.fa-envelope-o
        = succeed ":" do
          %abbr{:title => "Email"} E
        %a{:href => "mailto:name@example.com"} name@example.com
      %p
        %i.fa.fa-clock-o
        = succeed ":" do
          %abbr{:title => "Hours"} H
      %ul.list-unstyled.list-inline.list-social-icons
        %li
          %a{:href => "#"}
            %i.fa.fa-facebook-square.fa-2x
        %li
          %a{:href => "#"}
            %i.fa.fa-linkedin-square.fa-2x
        %li
          %a{:href => "#"}
            %i.fa.fa-twitter-square.fa-2x
        %li
          %a{:href => "#"}
            %i.fa.fa-google-plus-square.fa-2x
  / /.row
  / Contact Form
  %link{:href => "//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css", :rel => "stylesheet"}/
  .col-md-10.col-md-offset-1
    .contact-form-padding
      = form_for :contact, url: {:controller => "contacts", :action => "create"}, method: "post", remote: true do |f|
        .col-md-10.col-md-offset-1
          .form-title GENERAL INFO
          .contact-error.text-center.relative


          .form-group
            .col-md-12.no-padding
              .col-md-6
                %input.form-control{:placeholder => "Name *", :type => "text", required: 'true', name: 'contact[name]'}
              .col-md-6
                %input.form-control{:placeholder => "Email *", :type => "email", required: 'true', name: 'contact[email]'}
              
            .col-md-12.no-padding
              .col-md-4
                %input.form-control{:placeholder => "Company", :type => "text", name: 'contact[company]'}
                
              .col-md-4
                %input.form-control{:placeholder => "Phone", :type => "tel", name: 'contact[phone]'}

              .col-md-4
                %select.form-control{name: 'contact[event_type]'}
                  %option{:disabled => "disabled", :selected => "selected", :value => ""} Event Type *
                      
                  - if @service
                    - active_service = @service['slug']
                  - else
                    - active_service = ''
                  - @service_list.each do |service_item|
                    %option{:selected => active_service == service_item['slug'].downcase, value: service_item['name']}= "#{service_item['name']}" 
                  %option Other
                .fa.fa-question-circle.mobile-hide{"data-toggle" => "popover", :title => "Event Types", "data-placement" => "left", "data-content" => "#{@service_list.map{|s| "<b>#{s['name']}</b>:</br> #{s['hint']}"}.join('</br></br>')}</br></br> <b>Other</b>:</br>Graduations, concerts, festivals, etc..</br>"}

                :javascript
                  $(function () {
                    $(function () {
                      $('[data-toggle="popover"]').popover({
                        html: true,
                        trigger: 'hover'
                      })
                    })
                  })

          
        .relative
          .col-md-4.col-md-offset-4#adntl-info-toggle.text-center
            .fa.fa-plus-circle
            Additional Details

        .relative
          .col-md-10.col-md-offset-1#adntl-info-form
            .form-title EVENT INFO

            .col-md-6.no-padding
              .col-md-12
                %input.form-control#datepicker{:type => "text", placeholder: "Pick your Date:", style: 'cursor: pointer;', name: 'contact[event_date]'}
                  
              .col-md-12
                %select.form-control{name: 'contact[event_time]'}
                  %option{:disabled => "disabled", :selected => "selected", :value => ""} Timeframe
                  %option Morning
                  %option Afternoon
                  %option Night
                  %option All Day
                  %option Multi-Day
              .col-md-12
                %input.form-control#geocomplete{:placeholder => "Event Location", :type => "text", name: 'contact[event_location]'}

            .col-md-6
              #details-before
                %textarea.form-control{:placeholder => "Event Details", :type => "text", name: 'contact[event_details]', id: 'details-text'}
              .col-md-6.no-padding.mobile-hide#map-container
                .map-div
                  .map_canvas
            

          .col-md-12.text-center.thanks-wrapper
            .thanks-for-contact
              We look forward to working with you to solve your DJ, Musician, & event needs.

        .relative#contact-sumbit-button.col-md-12.text-center{style: 'margin-top: 30px;'}
          .press
            %button{type: "submit"} SUBMIT
          / .btn
          /   SUBMIT



  :javascript

    $(document).ready(contactReady);
    $(document).on('page:load', contactReady);

    function contactReady(){
      contactInit();
    }



